<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Typing Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .container {
            width: 50%;
            margin: auto;
            margin-top: 50px;
            padding: 20px;
            background: white;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        h1 {
            color: #333;
        }

        #text-to-type {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #ff4d6d;
        }

        textarea {
            width: 100%;
            height: 100px;
            font-size: 1.2rem;
            padding: 10px;
            border: 2px solid #ff4d6d;
            border-radius: 5px;
            resize: none;
        }

        .btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1.2rem;
            background: #ff4d6d;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        .btn:hover {
            background: #d6336c;
        }

        #results {
            margin-top: 20px;
            font-size: 1.2rem;
            color: #333;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Speed Typing Test</h1>
        <p id="text-to-type"></p>
        <textarea id="user-input" placeholder="Start typing here..."></textarea>
        <br>
        <button class="btn" onclick="startTest()">Start Test</button>
        <button class="btn" onclick="resetTest()">Reset</button>
        <p id="results"></p>
    </div>

    <script>
        const texts = [
            "The quick brown fox jumps over the lazy dog.",
            "Python is an amazing programming language.",
            "Speed typing tests are fun and educational.",
            "Practice makes perfect.",
            "Just imagine how wonderful you are!!"
        ];

        let startTime, endTime, selectedText;

        function getRandomText() {
            return texts[Math.floor(Math.random() * texts.length)];
        }

        function startTest() {
            selectedText = getRandomText();
            document.getElementById("text-to-type").innerText = selectedText;
            document.getElementById("user-input").value = "";
            document.getElementById("results").innerText = "";
            startTime = new Date().getTime();
        }

        function endTest() {
            endTime = new Date().getTime();
            let timeTaken = (endTime - startTime) / 1000; // Convert to seconds
            let userText = document.getElementById("user-input").value.trim();
            
            let wordsPerMinute = (selectedText.split(" ").length / (timeTaken / 60)).toFixed(2);
            let resultMessage = `⏱ Time taken: ${timeTaken.toFixed(2)} seconds\n`;
            resultMessage += `⚡ Words per minute: ${wordsPerMinute} WPM\n`;

            if (userText === selectedText) {
                resultMessage += "✅ Congratulations! You typed it correctly!";
            } else {
                resultMessage += "❌ Oops! There were some errors in your typing.";
            }

            document.getElementById("results").innerText = resultMessage;
        }

        function resetTest() {
            document.getElementById("user-input").value = "";
            document.getElementById("text-to-type").innerText = "";
            document.getElementById("results").innerText = "";
            startTime = null;
            endTime = null;
        }

        // Listen for input in the text area to detect when typing ends
        document.getElementById("user-input").addEventListener("input", () => {
            if (startTime && document.getElementById("user-input").value.trim().length === selectedText.length) {
                endTest();
            }
        });
    </script>

</body>
</html>